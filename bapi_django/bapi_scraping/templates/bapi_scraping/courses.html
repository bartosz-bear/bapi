<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>BAPI</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  </head>
  <body>
    <style>
      body {
        background: white;
      }
      .box {
        width: 100%;
        height: 100%;
        border: 1px solid white;
        display: flex;
        justify-content: center;
      }
      img {
        width: 80%;
        height: 100%;
        margin: 0 auto;
      }

      .table {
        table-layout:fixed;
      }

      .table td {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }


    </style>

      <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
        <symbol id="bootstrap" viewBox="0 0 118 94">
          <title>Bootstrap</title>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M24.509 0c-6.733 0-11.715 5.893-11.492 12.284.214 6.14-.064 14.092-2.066 20.577C8.943 39.365 5.547 43.485 0 44.014v5.972c5.547.529 8.943 4.649 10.951 11.153 2.002 6.485 2.28 14.437 2.066 20.577C12.794 88.106 17.776 94 24.51 94H93.5c6.733 0 11.714-5.893 11.491-12.284-.214-6.14.064-14.092 2.066-20.577 2.009-6.504 5.396-10.624 10.943-11.153v-5.972c-5.547-.529-8.934-4.649-10.943-11.153-2.002-6.484-2.28-14.437-2.066-20.577C105.214 5.894 100.233 0 93.5 0H24.508zM80 57.863C80 66.663 73.436 72 62.543 72H44a2 2 0 01-2-2V24a2 2 0 012-2h18.437c9.083 0 15.044 4.92 15.044 12.474 0 5.302-4.01 10.049-9.119 10.88v.277C75.317 46.394 80 51.21 80 57.863zM60.521 28.34H49.948v14.934h8.905c6.884 0 10.68-2.772 10.68-7.727 0-4.643-3.264-7.207-9.012-7.207zM49.948 49.2v16.458H60.91c7.167 0 10.964-2.876 10.964-8.281 0-5.406-3.903-8.178-11.425-8.178H49.948z"></path>
        </symbol>
        <symbol id="home" viewBox="0 0 16 16">
          <path d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5z"/>
        </symbol>
        <symbol id="speedometer2" viewBox="0 0 16 16">
          <path d="M8 4a.5.5 0 0 1 .5.5V6a.5.5 0 0 1-1 0V4.5A.5.5 0 0 1 8 4zM3.732 5.732a.5.5 0 0 1 .707 0l.915.914a.5.5 0 1 1-.708.708l-.914-.915a.5.5 0 0 1 0-.707zM2 10a.5.5 0 0 1 .5-.5h1.586a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 10zm9.5 0a.5.5 0 0 1 .5-.5h1.5a.5.5 0 0 1 0 1H12a.5.5 0 0 1-.5-.5zm.754-4.246a.389.389 0 0 0-.527-.02L7.547 9.31a.91.91 0 1 0 1.302 1.258l3.434-4.297a.389.389 0 0 0-.029-.518z"/>
          <path fill-rule="evenodd" d="M0 10a8 8 0 1 1 15.547 2.661c-.442 1.253-1.845 1.602-2.932 1.25C11.309 13.488 9.475 13 8 13c-1.474 0-3.31.488-4.615.911-1.087.352-2.49.003-2.932-1.25A7.988 7.988 0 0 1 0 10zm8-7a7 7 0 0 0-6.603 9.329c.203.575.923.876 1.68.63C4.397 12.533 6.358 12 8 12s3.604.532 4.923.96c.757.245 1.477-.056 1.68-.631A7 7 0 0 0 8 3z"/>
        </symbol>
        <symbol id="table" viewBox="0 0 16 16">
          <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm0 4h-4v3h4V8zm0 4h-4v3h3a1 1 0 0 0 1-1v-2zm-5 3v-3H6v3h4zm-5 0v-3H1v2a1 1 0 0 0 1 1h3zm-4-4h4V8H1v3zm0-4h4V4H1v3zm5-3v3h4V4H6zm4 4H6v3h4V8z"/>
        </symbol>
        <symbol id="people-circle" viewBox="0 0 16 16">
          <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
          <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
        </symbol>
        <symbol id="grid" viewBox="0 0 16 16">
          <path d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"/>
        </symbol>
      </svg>
    
      <div class="col-lg-8 mx-auto p-4 py-md-5">
        <div class="container">
          <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
            <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
              <svg class="bi me-2" width="40" height="32"><use xlink:href="#bootstrap"/></svg>
              <span class="fs-4">BAPI Data</span>
            </a>
      
            <ul class="nav nav-pills">
              <li class="nav-item"><a href="#" class="nav-link active" aria-current="page">Home</a></li>
              <li class="nav-item"><a href="#" class="nav-link">Fetch</a></li>
              <li class="nav-item"><a href="#" class="nav-link">Store</a></li>
              <li class="nav-item"><a href="#" class="nav-link">Transform</a></li>
              <li class="nav-item"><a href="#" class="nav-link">Visualize</a></li>
              <li class="nav-item"><a href="#" class="nav-link">Hire me</a></li>
            </ul>
          </header>
        </div>

        <main>

          {{ my_name }}

          <div>Welcome!
            
            <br></br>
            
            
            Modern data warehouses pull data from different data sources. Sometimes organizations need to collect data from public websites. If the website was gracious enough
            to offer an API, this process is pretty straight forward. Register with the website, connect through the API and fetch data to your favorite language of choice. It gets more
            complicated if the website doesn't offer an API. How do we get data automatically in this case?
            
            <br></br>

            Scraping

            <br></br>
            
            Let's assume that the company offered an API. In this case, we should definitely use it whenever we can. 'Whenever we can' is the key though. Even if the company offered an
            API it doesn't mean we can get the data WE WANT. API allows us to get the data the website wants us to get. That's often not good enough. So what do we?
            
            <br></br>

            Scraping
           

            <br></br>

            I want to take a little pause here to ponder for a little about the legal considerations. Why legal? Well, I realized that for many people in the industry scraping seems a bit shady.

            <br></br>

            Even the word itself, SCRAPING. Feels like we are doing something BAAAAAAD. No we are not.

            <br></br>

            First of all, check this out.

            <br></br>
            
            <a href="https://techcrunch.com/2022/04/18/web-scraping-legal-court/">US Supreme Court Rules Scraping Public Data is Legal</a>
            
           <br></br>

            In April, 2022 U.S. Supreme Court (yes, that's the highest court in the federal judiciary of the United States) officially ruled that scraping data
            that is publicly available is LEGAL. The case was brought by LinkedIn who was unhappy with the competitor scraping data from their portal.
           
            <br></br>
            
            In other words, whatever you can scrape from a public website is legal. Which makes perfect sense, because you can get the exact data by visiting the same website and enter data points
            manually to your Excel or database.
            
            <br></br>

            There is another important reason why you should consider adding scraping to you data collection pipelines.
            
            <br></br>
            
            Your competitiors are already doing it.

            <br></br>

            Take Point72 Asset Management as an example. Point72 is one of the largest hedge fund managers in the world and they are actively is ACTIVELY RECRUITING web scrapers. And they've
            been already doing this for me (trust me I checked).


            <br></br>

            <a href="https://boards.greenhouse.io/point72/jobs/5655465002">Web Scraping Associate Position</a>

            <br></br>

           

            
            <div class="box">

              {% load static %}
              <img src="{% static 'web_scraping_associate.png' %}" alt="Course Categories">
  
            

            </div>     

            <br></br>

            I want to bring your attention to one of the bullet points from the job ad:

            <br></br>

            "Be responsible for testing the data and the scrape to ensure accuracy, quality, and <b>compliance</b>"

            <br></br>

            What is essentially mean is that a very large organization has REVIEWED the legal standing of scraping and decided that if enough diligence is applied, scraping is a valida and Legal
            to acquire data from public sources.

            <br></br>

            Why did they decide to go this route? There are two reasons?

            <br></br>

            1. Acquiring data from data providers like Bloomberg and Reuters, are expensive. I still remember when I worked in a treasury department of a large organization who was using a very 
            expensive Bloomberg terminal to get data about financial markets, even thought the same date was ALREADY AVAILABLE from public sources for FREE. Don't get me wrong, Bloomberg terminal
            was awesome. Awesome is not enough, in 1990s was a game changer. But it's 2023.

            <br></br>

            So if you are using any data vendor and you feel that you pay too much, scraping can be a solution.

            <br></br>
            
            2. Second thing is flexibility. Bloomberg being Bloomberg, with all due respect for the great service it provides, it doesn't cover everything. Do you think Point72 doesn't have access
            to Bloomberg or Reuters terminals? Of course they do. And it doesn't even seem expensive to me. The very simple reason why they are building a web scraping team is that traditonal data vendors
            have their limits. 90s was the time of simple HTML+CSS+little bit of JavaScript websites, first decade of 2000s was the times of PHP/Python/Java pretty decent web applications and the second 
            decade was the times when it was pretty easy for everyone to build their presence online and everyone was collecting and presenting TONES OF DATA ONLINE. Now, in the third decade of 2000s is 
            about TAKING ADVANTAGE of the absolutely unbelivable amount of data available online. And turning it to actionable information of course.

            <br></br>

            If you are not taking advantage what's available in front of your eyes, you are running behind. Scraping is UNPOPULAR. It's actually fairly likely that you've never heard this term 
            before, or maybe you heard it and some guy from our industry remembered every one that scraping is a shady business, and mature businesses rely on solid solutions (think talk about 
            Bitcoin in 2010).

            <br></br>

            Well, it's up to you. You can either can take advantage what's in front of you and ride the big wave of 2020s or... NOT. It's up to you. If you can see what can be done, have a look on
            the practical implementation of scraping below.
            


            <br></br>
            </div>

          

          <hr>

          <div>

          Ok, we are going to take one of the most popular website for online course providers in the world. 'Coursera' was founded in 2012 by two leading researchers of Machine Learning and AI,
          Standford University professor Andrew Ng, and Daphne Koller. Coursera provides a range of high qualify courses provided by top universities around the world like Standford, Penn, Imperial
          College London as well as the top tech companies like Gooogle, IBM and Microsoft.

          <br></br>


          What we are going to do this in this exercise is actually pretty simple. We are going to choose our favorite subject (Data Science of course) and we are going to programatically collect
          all relevant information about all data science courses offered by Coursera.

          <br></br>

          Below we can see a snaphot of some of the <a href="https://www.coursera.org">Coursera</a> available in the Data Science domain.


        
        </div>

        <br>

        <div class="box">

            {% load static %}
            <img src="{% static 'course_categories.png' %}" alt="Course Categories">

          </div>           

          <div>

            <br>

          We want to get more detailed information about each course. Information which was available in the category summary page, like Name of the Instructor, Number of Ratings, Number of 
          students enrolled and Full Description of the course. If we were to collect these information manually, we would have to visit each course separately. This would take a lot of time
          and is when scraping comes handy. The script will visit each course page, scrap the requested information and save everything to SQL database for further use.

        </div>
          <br>

          <div class="box">


          {% load static %}
          <img src="{% static 'course_info.png' %}" class="box.img" alt="Course Categories">
    


        </div>

          <hr>

          Let's see how it works in practice.

          <br>

          <br>

          Choose a category and press 'Submit'. Be patient, scraping data from Coursera takes about 2 minutes to complete.

          <br>
          
          <br>

          <form action="get_courses" method="post">
            {% csrf_token %}
            {{ form }}
            <input type="submit" value="Scrape it!">
          </form>

          <br>

          

          {% for i in scraped %}

          <table class="table">
            <thead class="thead-dark">
            <tr>
              <th>Category</th>
              <th>Course Name</th>
              <th>Instructor</th>
              <th>Description</th>
              <th>Enrollments Count</th>
              <th>Rating</th>
            </tr>
          </thead>
            <tr>
              <td>{{ i.category }}</td>
              <td>{{ i.course }}</td>
              <td>{{ i.instructor }}</td>
              <td class="cell-hyphens">{{ i.description }}</td>
              <td>{{ i.enrollment_count }}</td>
              <td>{{ i.rating }}</td>
            </tr>
          </table> 

          {% endfor %}

         



            

          <!--{{ courses }}-->



        </main>
        <footer class="pt-5 my-5 text-muted border-top">
          BAPI &middot; &copy; 2023
        </footer>
      </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
  </body>
</html>


